/* ============================================
   responsive.css
   Mobile-first responsive overrides only.
   Base styles live in styles.css.
   All media queries consolidated here.
   ============================================

   TABLE OF CONTENTS:

   1. ACCESSIBILITY: REDUCED MOTION
      - Disables animations for prefers-reduced-motion
      - Maintains functionality without motion

   2. PROGRESSIVE ENHANCEMENT BREAKPOINTS
      2.1) Mobile Large (480px+)
           - Increase font sizes
           - Scale up tarot cards
      2.2) Tablet (768px+)
           - Header grid â†’ flex layout
           - Show horizontal navigation
           - 2-column article grids
      2.3) Desktop (1024px+)
           - 3-column article grid
           - Larger spacing
      2.4) Desktop Large (1440px+)
           - 4-column article grid
           - Max-width container
      2.5) Ultra Wide (1920px+)
           - Cap maximum width

   3. MOBILE-ONLY OVERRIDES (max-width: 767px)
      - Enhanced focus indicators
      - Reduced card heights
      - Touch-optimized spacing

   ============================================ */


/* ============================================
   1) ACCESSIBILITY: REDUCED MOTION
   ============================================
   Respects user's motion preferences (prefers-reduced-motion).
   Disables animations for users with vestibular disorders.
   Maintains functionality while removing motion.
   ============================================ */
@media (prefers-reduced-motion: reduce) {
  /* Disable all animations and transitions globally */
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  /* Keep tarot flip functional but remove long transition */
  .tarot-card-inner {
    transition: none !important;
  }

  /* Disable modal animations while keeping open/close functionality */
  .modal,
  .modal-content {
    transition: none !important;
  }

  .modal.is-opening .modal-content,
  .modal.is-closing .modal-content {
    animation: none !important;
  }
}


/* ============================================
   2.1) MOBILE LARGE: 480px+
   ============================================
   First breakpoint for larger phones (iPhone Plus, etc.).
   Incrementally increase typography and spacing.
   ============================================ */
@media (min-width: 480px) {
  /* Base typography scales up */
  body {
    font-size: 1rem;           /* Up from 0.9rem */
    line-height: 1.55;
  }

  /* Increase header spacing */
  .site-header {
    padding: var(--spacing-md);
  }

  /* Scale logo */
  .site-logo-image {
    height: 56px;              /* Up from 40px */
  }

  /* Enlarge headings */
  .site-title {
    font-size: 2rem;
  }

  .section-title {
    font-size: 1.75rem;        /* Up from 1.5rem */
  }

  .nav-item a {
    font-size: 1.05rem;        /* Slightly larger for easier tapping */
  }

  /* Increase main content padding */
  .main-wrapper {
    padding: var(--spacing-lg);
  }

  /* More generous article padding */
  .article {
    padding: var(--spacing-lg);
  }

  .article-header h3 {
    font-size: 1.6rem;         /* Up from 1.4rem */
  }

  .article-meta {
    font-size: 0.85rem;
  }

  /* ===== TAROT CARDS =====
     Scale up card heights and typography smoothly. */
  .tarot-card-front,
  .tarot-card-back {
    min-height: 260px;
  }

  .tarot-card-front .article-header h3 {
    font-size: 2rem;
  }

  .tarot-card-front .article-meta {
    font-size: 0.95rem;
  }
}


/* ============================================
   2.2) TABLET: 768px+
   ============================================
   Major layout transformation at tablet size.
   - Header switches from grid to flexbox
   - Navigation becomes horizontal and always visible
   - Article grids expand to 2 columns
   ============================================ */
@media (min-width: 768px) {
  /* ===== HEADER LAYOUT TRANSFORMATION =====
     Switch from mobile grid to horizontal flexbox layout.
     Logo on left, navigation spans middle/right. */
  .site-header {
    display: flex !important;
    flex-direction: row !important;
    justify-content: space-between !important;
    align-items: center !important;
    gap: var(--spacing-md);
    overflow: visible;
  }

  .site-logo-image {
    height: 80px;
    align-self: center;
    flex-shrink: 0;
  }

  .site-title {
    font-size: 2.25rem;
    margin: 0;
    align-self: center;
    flex-shrink: 0;
  }

  /* ===== HIDE MOBILE NAVIGATION CONTROLS =====
     Hamburger menu, mobile search button not needed on tablet+. */
  .nav-mobile-controls,
  .hamburger-menu,
  .nav-search-btn {
    display: none;
  }

  .primary-nav {
    width: auto !important;
    align-items: center !important;
    flex-direction: row !important;
    padding: 0;
    flex: 1;
    display: flex;
  }

  /* ===== NAVIGATION MENU =====
     Override mobile collapsed state.
     Nav becomes horizontal and always visible.
     Centered between title and badges. */
  .nav-list {
    flex-direction: row !important;
    gap: var(--spacing-sm);
    max-height: none !important;
    opacity: 1 !important;
    overflow: visible !important;
    padding: 0 !important;
    align-items: center !important;
    flex: 1;
    justify-content: center;
  }

  .nav-item a {
    font-size: 1.5rem;
    padding: var(--spacing-sm) var(--spacing-md);
  }

  /* Show nav actions on tablet+ */
  .nav-actions {
    display: flex !important;
    flex-shrink: 0;
    align-items: center !important;
  }

  .nav-badges {
    display: flex !important;
    gap: var(--spacing-sm);
  }

  .nav-badge {
    display: inline-flex !important;
    visibility: visible !important;
    opacity: 1 !important;
  }

  /* ===== ARTICLE GRIDS =====
     Expand to 2 columns for better space utilization. */
  .featured-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--spacing-lg);
  }

  .articles-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--spacing-md);
  }

  /* Tarot: scale up */
  .tarot-card-front,
  .tarot-card-back {
    min-height: 280px;
  }

  .tarot-card-front .article-header h3 {
    font-size: 2.2rem;
  }

  .tarot-card-front .article-meta {
    font-size: 1rem;
  }
}


/* ============================================
   2.3) DESKTOP: 1024px+
   ============================================
   Standard desktop screens (most laptops).
   - 3-column article grid
   - Further typography refinements
   - Optimized spacing for larger viewports
   ============================================ */
@media (min-width: 1024px) {
  /* Refined header spacing */
  .site-header {
    padding: var(--spacing-sm) var(--spacing-md);
  }

  /* Larger logo for desktop prominence */
  .site-logo-image {
    height: 72px;              /* Up from 64px */
  }

  /* Larger title for desktop impact */
  .site-title {
    font-size: 2.5rem;         /* Up from 2.25rem */
  }

  /* Standard nav link size */
  .nav-item a {
    font-size: 1.5rem;
  }

  /* Balanced padding for wide screens */
  .main-wrapper {
    padding: var(--spacing-md) var(--spacing-lg);
  }

  /* ===== 3-COLUMN GRID FOR FEATURED =====
     Featured articles in a row of 3. */
  .featured-grid {
    grid-template-columns: repeat(3, 1fr);
  }

  /* ===== 4-COLUMN GRID FOR LATEST =====
     Optimal for desktop: more content visible without crowding. */
  .articles-grid {
    grid-template-columns: repeat(4, 1fr);
  }

  /* Footer: match your overlay structure */
  .footer {
    min-height: 20px;
    padding: var(--spacing-xs) var(--spacing-sm);
  }

  .footer-overlay p {
    font-size: 0.75rem;
  }

  /* Tarot: scale up */
  .tarot-card-front,
  .tarot-card-back {
    min-height: 300px;
  }

  .tarot-card-front .article-header h3 {
    font-size: 2.4rem;
  }
}


/* ============================================
   2.4) DESKTOP LARGE: 1440px+
   ============================================
   Large desktop monitors and small ultra-wide screens.
   - 4-column article grid for maximum content density
   - Container max-width prevents excessive line lengths
   - Increased spacing for breathing room
   ============================================ */
@media (min-width: 1440px) {
  /* Constrain max width and center content.
     Prevents uncomfortably wide text lines. */
  .site-container {
    max-width: 1920px;
    margin: 0 auto;
  }

  /* Extra-large horizontal padding */
  .main-wrapper {
    padding: var(--spacing-md) var(--spacing-xl);
  }

  /* More generous gap between featured articles */
  .featured-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: var(--spacing-xl);
  }

  /* ===== 5-COLUMN GRID =====
     Maximum content visibility for large screens. */
  .articles-grid {
    grid-template-columns: repeat(4, 1fr);
    gap: var(--spacing-lg);
  }

  .site-title {
    font-size: 3rem;
  }

  .section-title {
    font-size: 2.5rem;
  }

  .tarot-card-front .article-header h3 {
    font-size: 2.6rem;
  }
}


/* ============================================
   2.5) ULTRA WIDE: 1920px+
   ============================================
   Ultra-wide monitors (2K, 4K, 5K).
   Cap maximum width to maintain comfortable reading.
   Prevents content from stretching too wide.
   ============================================ */
@media (min-width: 1920px) {
  /* Hard cap at 1920px for optimal readability.
     Content centers with equal margins on ultra-wide displays. */
  .site-container {
    max-width: 1920px;
  }
}


/* ============================================
   3) MOBILE-ONLY OVERRIDES: max-width 767px
   ============================================
   Special rules that ONLY apply to mobile devices.
   Uses max-width instead of min-width (mobile-only).
   - Enhanced accessibility for touch devices
   - Optimized card heights for small screens
   - Touch-friendly tap targets
   ============================================ */
@media (max-width: 767px) {
  /* ===== ENHANCED MOBILE ACCESSIBILITY =====
     Larger focus indicators for small screens. */
  a:focus-visible,
  button:focus-visible,
  .nav-item a:focus-visible {
    outline-width: 4px;
    outline-offset: 4px;
  }

  /* Ensure nav-actions stay hidden on mobile.
     Belt-and-suspenders approach for reliability. */
  .nav-actions {
    display: none;
  }

  /* ===== TAROT CARD OPTIMIZATION =====
     Reduce card heights so they don't overwhelm small screens. */
  .tarot-card-front,
  .tarot-card-back {
    min-height: 240px;
  }

  /* Mobile back scroll: cap to viewport */
  .tarot-card-back {
    max-height: 70vh;
  }

  .tarot-card-front .article-header h3 {
    font-size: 1.5rem;
  }

  .tarot-card-front .article-meta {
    font-size: 0.85rem;
    flex-direction: column;      /* Stack meta items vertically */
    gap: var(--spacing-sm);
  }

  /* Custom tap highlight color for better touch feedback.
     iOS/Safari specific - shows aqua glow on tap. */
  .tarot-card {
    -webkit-tap-highlight-color: rgba(89, 229, 239, 0.3);
  }
}

/* End of responsive.css */